2006-11-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* clutter-gtk/gtk-clutter.c:
	(gtk_clutter_destroy): Destroy the ClutterStage instead
	of unreffing it.

	(gtk_clutter_size_allocate): Queue a redraw if the stage
	is marked as visible.

	(gtk_clutter_realize): Remove the forced realize: the
	stage is already realized by default.

	* examples/gtk-clutter-test.c: Use gtk_main_quit().

2006-11-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* clutter-gtk/gtk-clutter.h: Add constructor; clean up.

	* clutter-gtk/gtk-clutter.c:
	(gtk_clutter_destroy), (gtk_clutter_class_init): Move
	the stage unref to the GtkObject::destroy method.

	(gtk_clutter_size_allocate): Oblige to the size allocation
	request from the container of the GtkClutter widget by
	resizing the ClutterStage.

	(gtk_clutter_size_request): Require the size of the stage.

	(gtk_clutter_destroy), (gtk_clutter_size_request),
	(gtk_clutter_realize): Do not use the G_TYPE_INSTANCE_GET_PRIVATE()
	macro, which does a type check and a function call; use the
	priv pointer we conveniently keep around.

	* examples/gtk-clutter-test.c: Use the given constructor;
	now window resizing works.  The stage doesn't get refreshed
	immediately (resize the window), though, and there's still
	the X error when we close the window.

2006-11-29  Emmanuele Bassi  <ebassi@openedhand.com>

	* *: Initial import out of the main tree.
